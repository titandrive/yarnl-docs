"use strict";(globalThis.webpackChunkyarnl_docs=globalThis.webpackChunkyarnl_docs||[]).push([[9418],{5533(e,t,r){r.r(t),r.d(t,{assets:()=>o,contentTitle:()=>i,default:()=>u,frontMatter:()=>d,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"guide/data-structure","title":"Data Structure","description":"How Yarnl organizes and stores your data","source":"@site/docs/guide/data-structure.md","sourceDirName":"guide","slug":"/guide/data-structure","permalink":"/docs/guide/data-structure","draft":false,"unlisted":false,"editUrl":"https://github.com/titandrive/yarnl-docs/tree/main/docs/guide/data-structure.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7,"title":"Data Structure","description":"How Yarnl organizes and stores your data"},"sidebar":"tutorialSidebar","previous":{"title":"Archive","permalink":"/docs/guide/archive"},"next":{"title":"Markdown","permalink":"/docs/guide/markdown"}}');var a=r(4848),s=r(8453);const d={sidebar_position:7,title:"Data Structure",description:"How Yarnl organizes and stores your data"},i="Data Structure",o={},l=[{value:"Docker Volumes",id:"docker-volumes",level:2},{value:"Folder Structure",id:"folder-structure",level:3},{value:"Database",id:"database",level:2},{value:"Volume Details",id:"volume-details",level:2},{value:"Patterns",id:"patterns",level:3},{value:"Archive",id:"archive",level:3},{value:"Backups",id:"backups",level:3}];function c(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"data-structure",children:"Data Structure"})}),"\n",(0,a.jsx)(t.p,{children:"Understand how Yarnl organizes your data and where everything is stored."}),"\n",(0,a.jsx)(t.p,{children:"Yarnl stores everything in simple, portable formats. No proprietary databases. No cloud lock-in. Your data is always accessible and always yours."}),"\n",(0,a.jsx)(t.hr,{}),"\n",(0,a.jsx)(t.h2,{id:"docker-volumes",children:"Docker Volumes"}),"\n",(0,a.jsxs)(t.p,{children:["Yarnl uses four mounted volumes to keep your data organized and portable. All volumes are located under ",(0,a.jsx)(t.code,{children:"/data"})," by default:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-yaml",children:"volumes:\n  - ./data/patterns:/app/patterns   # Your pattern files\n  - ./data/notes:/app/notes         # Markdown notes for patterns\n  - ./data/archive:/app/archive     # Deleted patterns (recoverable)\n  - ./data/backups:/app/backups     # Backup files\n"})}),"\n",(0,a.jsx)(t.p,{children:"Each volume serves a specific purpose and can be backed up or moved independently."}),"\n",(0,a.jsx)(t.p,{children:"You can point any volume to a different location if you prefer. For example, you can store your backups on a different drive:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-yaml",children:"volumes:\n  - ./data/patterns:/app/patterns\n  - ./data/notes:/app/notes\n  - ./data/archive:/app/archive\n  - /mnt/nas/yarnl-backups:/app/backups   # Store backups on NAS\n"})}),"\n",(0,a.jsx)(t.h3,{id:"folder-structure",children:"Folder Structure"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{children:"data/\n\u251c\u2500\u2500 patterns/                # Your pattern files (mounted volume)\n\u2502   \u251c\u2500\u2500 [category]/          # Folders per category\n\u2502   \u2502   \u2514\u2500\u2500 pattern-file.pdf # PDF pattern files\n\u2502   \u251c\u2500\u2500 thumbnails/          # Auto-generated and custom thumbnails\n\u2502   \u2502   \u2514\u2500\u2500 thumb-*.jpg\n\u2502   \u2514\u2500\u2500 images/              # Images used in markdown patterns\n\u2502       \u2514\u2500\u2500 *.jpg\n\u251c\u2500\u2500 notes/                   # Markdown notes (mounted volume)\n\u2502   \u2514\u2500\u2500 pattern-slug.md      # Notes keyed by pattern slug\n\u251c\u2500\u2500 archive/                 # Archived patterns (mounted volume)\n\u2502   \u251c\u2500\u2500 [category]/          # Same structure as patterns\n\u2502   \u2502   \u2514\u2500\u2500 archived-file.pdf\n\u2502   \u2514\u2500\u2500 thumbnails/          # Archived pattern thumbnails\n\u2502       \u2514\u2500\u2500 thumb-*.jpg\n\u2514\u2500\u2500 backups/                 # Backup files (mounted volume)\n    \u2514\u2500\u2500 yarnl-backup-*.zip   # Backups with timestamp\n"})}),"\n",(0,a.jsx)(t.hr,{}),"\n",(0,a.jsx)(t.h2,{id:"database",children:"Database"}),"\n",(0,a.jsxs)(t.p,{children:["Yarnl stores all your metadata in a PostgreSQL database. The database is managed by Docker and stored at ",(0,a.jsx)(t.code,{children:"/var/lib/docker/volumes/yarnl-postgres-data/_data"}),". This includes:"]}),"\n",(0,a.jsxs)(t.table,{children:[(0,a.jsx)(t.thead,{children:(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.th,{children:"Data"}),(0,a.jsx)(t.th,{children:"Description"})]})}),(0,a.jsxs)(t.tbody,{children:[(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{children:"Pattern info"}),(0,a.jsx)(t.td,{children:"Name, description, category, hashtags"})]}),(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{children:"Status"}),(0,a.jsx)(t.td,{children:"Favorite, current, completed, completion date"})]}),(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{children:"Counters"}),(0,a.jsx)(t.td,{children:"Row count, stitch count, and custom counters"})]}),(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{children:"Timer"}),(0,a.jsx)(t.td,{children:"Time spent on each project"})]}),(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{children:"PDF position"}),(0,a.jsx)(t.td,{children:"Last viewed page (so you can pick up where you left off)"})]}),(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{children:"Thumbnails"}),(0,a.jsx)(t.td,{children:"Custom cover images"})]}),(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{children:"Categories"}),(0,a.jsx)(t.td,{children:"Your category names and display order"})]}),(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{children:"Hashtags"}),(0,a.jsx)(t.td,{children:"Your hashtag names and display order"})]}),(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{children:"Settings"}),(0,a.jsx)(t.td,{children:"All your preferences"})]})]})]}),"\n",(0,a.jsx)(t.hr,{}),"\n",(0,a.jsx)(t.h2,{id:"volume-details",children:"Volume Details"}),"\n",(0,a.jsx)(t.h3,{id:"patterns",children:"Patterns"}),"\n",(0,a.jsx)(t.p,{children:"When you import patterns, Yarnl organizes them by category so you can easily locate your patterns. For example:"}),"\n",(0,a.jsxs)(t.table,{children:[(0,a.jsx)(t.thead,{children:(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.th,{children:"Category"}),(0,a.jsx)(t.th,{children:"Folder"})]})}),(0,a.jsxs)(t.tbody,{children:[(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{children:"Amigurumi"}),(0,a.jsx)(t.td,{children:(0,a.jsx)(t.code,{children:"patterns/amigurumi/"})})]}),(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{children:"Wearables"}),(0,a.jsx)(t.td,{children:(0,a.jsx)(t.code,{children:"patterns/wearables/"})})]}),(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{children:"Miscellaneous"}),(0,a.jsx)(t.td,{children:(0,a.jsx)(t.code,{children:"patterns/other/"})})]})]})]}),"\n",(0,a.jsx)(t.p,{children:"If you change a pattern's category, Yarnl moves the file to the corresponding folder. If you create a new category, Yarnl will make a new folder and move the patterns into it."}),"\n",(0,a.jsx)(t.h3,{id:"archive",children:"Archive"}),"\n",(0,a.jsx)(t.p,{children:"When you archive a pattern, it moves to the archive folder instead of being permanently deleted. This gives you a safety net:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["Recover accidentally deleted patterns from ",(0,a.jsx)(t.strong,{children:"Settings \u2192 Archive"})]}),"\n",(0,a.jsx)(t.li,{children:"Patterns keep their metadata and counter values"}),"\n",(0,a.jsx)(t.li,{children:"Permanently delete from archive when you're sure"}),"\n"]}),"\n",(0,a.jsx)(t.p,{children:"Keeping archive as a separate volume lets you manage storage independently. You can therefore move it to slower storage or exclude it from frequent backups."}),"\n",(0,a.jsx)(t.h3,{id:"backups",children:"Backups"}),"\n",(0,a.jsx)(t.p,{children:"Scheduled and manual backups are stored here as ZIP files. Benefits of a separate volume:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"Point it to a different drive or NAS for redundancy"}),"\n",(0,a.jsx)(t.li,{children:"Sync to cloud storage without touching your main data"}),"\n",(0,a.jsx)(t.li,{children:"Set different retention policies"}),"\n"]}),"\n",(0,a.jsxs)(t.p,{children:["See ",(0,a.jsx)(t.a,{href:"./backups-and-data",children:"Backups & Data"})," for backup configuration."]})]})}function u(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},8453(e,t,r){r.d(t,{R:()=>d,x:()=>i});var n=r(6540);const a={},s=n.createContext(a);function d(e){const t=n.useContext(s);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:d(e.components),n.createElement(s.Provider,{value:t},e.children)}}}]);