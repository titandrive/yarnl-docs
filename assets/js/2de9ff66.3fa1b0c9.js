"use strict";(globalThis.webpackChunkyarnl_docs=globalThis.webpackChunkyarnl_docs||[]).push([[6803],{5341(e,n,t){t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>d,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"guide/installation","title":"Installation","description":"How to get started with Yarnl","source":"@site/docs/guide/installation.md","sourceDirName":"guide","slug":"/guide/installation","permalink":"/docs/guide/installation","draft":false,"unlisted":false,"editUrl":"https://github.com/titandrive/yarnl-docs/tree/main/docs/guide/installation.md","tags":[],"version":"current","sidebarPosition":0,"frontMatter":{"sidebar_position":0,"title":"Installation","description":"How to get started with Yarnl"},"sidebar":"tutorialSidebar","previous":{"title":"User Guide","permalink":"/docs/category/user-guide"},"next":{"title":"Getting started","permalink":"/docs/guide/getting-started"}}');var s=t(4848),i=t(8453);const d={sidebar_position:0,title:"Installation",description:"How to get started with Yarnl"},o="Installation",l={},a=[{value:"Quick Start",id:"quick-start",level:2},{value:"Docker Compose",id:"docker-compose",level:2},{value:"Configuration",id:"configuration",level:2}];function c(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"installation",children:"Installation"})}),"\n",(0,s.jsx)(n.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,s.jsx)(n.p,{children:"Yarnl is easy to get up and running with Docker. You'll be crocheting in no time."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Prerequisites:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://docs.docker.com/get-docker/",children:"Docker"})}),"\n",(0,s.jsx)(n.li,{children:"Docker Compose"}),"\n"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Open terminal and run the following command to download and start the ",(0,s.jsx)(n.a,{href:"https://raw.githubusercontent.com/titandrive/yarnl/main/docker-compose.yml",children:(0,s.jsx)(n.code,{children:"docker-compose.yml"})}),".:"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"mkdir yarnl && cd yarnl                # Create a directory for Yarnl\ncurl -O https://raw.githubusercontent.com/titandrive/yarnl/main/docker-compose.yml  # Download the compose file\ndocker compose up -d                   # Start Yarnl and PostgreSQL\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsxs)(n.li,{children:["Open your browser and navigate to ",(0,s.jsx)(n.code,{children:"http://localhost:3000"})]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["By default, Yarnl starts in single-user mode with an ",(0,s.jsx)(n.code,{children:"admin"})," account and no password."]}),"\n",(0,s.jsxs)(n.p,{children:["To configure passwords, timezone, and other options, download the ",(0,s.jsx)(n.a,{href:"https://raw.githubusercontent.com/titandrive/yarnl/main/.env.example",children:(0,s.jsx)(n.code,{children:".env.example"})})," file, rename it to ",(0,s.jsx)(n.code,{children:".env"}),", and edit as needed before starting."]}),"\n",(0,s.jsx)(n.h2,{id:"docker-compose",children:"Docker Compose"}),"\n",(0,s.jsx)(n.p,{children:"If you prefer to write the compose file yourself instead of downloading it:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'services:\n  postgres:\n    container_name: yarnl-db\n    image: postgres:16-alpine\n    volumes:\n      - yarnl-postgres-data:/var/lib/postgresql/data\n    environment:\n      - POSTGRES_DB=${POSTGRES_DB:-yarnl}\n      - POSTGRES_USER=${POSTGRES_USER:-yarnl}\n      - POSTGRES_PASSWORD=${POSTGRES_PASSWORD:-yarnl}\n    restart: unless-stopped\n    healthcheck:\n      test: ["CMD-SHELL", "pg_isready -U ${POSTGRES_USER:-yarnl}"]\n      interval: 5s\n      timeout: 5s\n      retries: 5\n\n  yarnl:\n    container_name: yarnl\n    image: titandrive/yarnl:latest\n    ports:\n      - "${PORT:-3000}:3000"\n    volumes:\n      - ./users:/app/users\n    environment:\n      - POSTGRES_HOST=postgres\n      - POSTGRES_PORT=5432\n      - POSTGRES_DB=${POSTGRES_DB:-yarnl}\n      - POSTGRES_USER=${POSTGRES_USER:-yarnl}\n      - POSTGRES_PASSWORD=${POSTGRES_PASSWORD:-yarnl}\n      - ADMIN_USERNAME=${ADMIN_USERNAME:-admin}\n      - ADMIN_PASSWORD=${ADMIN_PASSWORD:-}\n      - TZ=${TZ:-UTC}\n    restart: unless-stopped\n    depends_on:\n      postgres:\n        condition: service_healthy\n\nvolumes:\n  yarnl-postgres-data:\n'})}),"\n",(0,s.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsx)(n.p,{children:"Most configuration is done via settings once Yarnl is up and running. There are a few environment variables available to customize your installation."}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Variable"}),(0,s.jsx)(n.th,{children:"Default"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"POSTGRES_DB"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"yarnl"})}),(0,s.jsx)(n.td,{children:"Database name"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"POSTGRES_USER"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"yarnl"})}),(0,s.jsx)(n.td,{children:"Database user"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"POSTGRES_PASSWORD"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"yarnl"})}),(0,s.jsx)(n.td,{children:"Database password"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"POSTGRES_HOST"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"postgres"})}),(0,s.jsx)(n.td,{children:"Database hostname (use default with Docker Compose)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"POSTGRES_PORT"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"5432"})}),(0,s.jsx)(n.td,{children:"Database port"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"ADMIN_USERNAME"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"admin"})}),(0,s.jsx)(n.td,{children:"Initial admin username"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"ADMIN_PASSWORD"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.em,{children:"(empty)"})}),(0,s.jsx)(n.td,{children:"Admin password (empty = passwordless login)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"PORT"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"3000"})}),(0,s.jsx)(n.td,{children:"Port exposed on the host"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"TZ"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"UTC"})}),(0,s.jsx)(n.td,{children:"Timezone for scheduled backups"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"FORCE_LOCAL_LOGIN"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"false"})}),(0,s.jsx)(n.td,{children:"Force local login even when OIDC/SSO is configured"})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453(e,n,t){t.d(n,{R:()=>d,x:()=>o});var r=t(6540);const s={},i=r.createContext(s);function d(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);